<ng-container *ngIf="!apiInProgress.page; else loading">
    <div *ngIf="canCreatePartner" class="container-fluid my-3 custom-padding bg-white border-radius-xl">
        <div class="row py-2">
            <div class="col-12 text-center">
                <app-button className="btn-warning btn-large w-md-30" buttonText="Create Partner Account"
                    (buttonClicked)="createPartnerAccount()">
                </app-button>
            </div>
        </div>
    </div>

    <form *ngIf="partnerForm" class="no-outline" [formGroup]="partnerForm" autocomplete="off">
        <div class="container-fluid my-3 custom-padding bg-white border-radius-xl"
            [class.loader]="apiInProgress.partnerForm">
            <div class="row py-3">
                <div class="col-12">
                    <h3 class="title-color">Partner Details</h3>
                    <!-- <div class="row mt-2">
                    </div> -->
                    <div class="row mt-3">
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="businessName">Business Name</label>
                            <input class="form-control" id="businessName" formControlName="businessName"
                                placeholder="Enter Business Name">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('businessName').errors && getPartnerFormField('businessName').touched">
                                    <span>Business name is required!</span>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="userName">User Name</label>
                            <input class="form-control" id="userName" formControlName="userName"
                                placeholder="Enter User Name" (change)="searchUserName()">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('userName').errors && getPartnerFormField('userName').touched">
                                    <span>User name is required</span>
                                </ng-container>

                            </div>

                        </div>
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="email">Email</label>
                            <input class="form-control" id="email" formControlName="email" placeholder="Enter Email">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('email').hasError('required') && getPartnerFormField('email').touched">
                                    <span>Email is required!</span>
                                </ng-container>
                                <ng-container *ngIf="getPartnerFormField('email').hasError('email')">
                                    <span>Email is Invalid!</span>
                                </ng-container>


                            </div>
                        </div>
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="mobile">Partner Phone Number</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <div class="form-control">
                                        <mat-select formControlName="country">

                                            <mat-option *ngFor="let country of countryList" [value]="country.id">
                                                +{{country.code}}
                                            </mat-option>
                                        </mat-select>
                                    </div>
                                </div>
                                <input class="form-control" type="tel" id="mobile" placeholder="Enter Partner Phone"
                                    formControlName="mobile">
                            </div>
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('mobile').errors && getPartnerFormField('mobile').touched">
                                    <span *ngIf="getPartnerFormField('mobile').hasError('minlength')">
                                        Phone number is invalid!</span>
                                    <span *ngIf="getPartnerFormField('mobile').hasError('required')">
                                        Phone number is required!</span>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-12 form-group">
                            <label class="mb-2" for="address">Partner Address</label>
                            <textarea class="form-control custom-scrollbar textarea-min-height" type="text" id="address"
                                formControlName="address" placeholder="Enter Partner Address" rows="1"
                                cdkTextareaAutosize #autosize="cdkTextareaAutosize"></textarea>
                        </div>

                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="fbLink">FaceBook Link</label>
                            <input class="form-control" id="fbLink" formControlName="fbLink"
                                placeholder="Enter FaceBook Link">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('fbLink').hasError('required') && getPartnerFormField('fbLink').touched">
                                    <span>FaceBook Link is required!</span>
                                </ng-container>
                                <ng-container *ngIf="getPartnerFormField('fbLink').hasError('pattern')">
                                    <span>FaceBook Link is Invalid!</span>
                                </ng-container>

                            </div>
                        </div>
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="youtubeLink">Youtube Link</label>
                            <input class="form-control" id="youtubeLink" formControlName="youtubeLink"
                                placeholder="Enter Youtube Link">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('youtubeLink').hasError('required') && getPartnerFormField('youtubeLink').touched">
                                    <span>Youtube Link is required!</span>
                                </ng-container>

                                <ng-container *ngIf="getPartnerFormField('youtubeLink').hasError('pattern')">
                                    <span>Youtube Link is Invalid!</span>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="twitterLink">Twitter Link</label>
                            <input class="form-control" id="twitterLink" formControlName="twitterLink"
                                placeholder="Enter Twitter Link">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('twitterLink').hasError('required') && getPartnerFormField('twitterLink').touched">
                                    <span>Twitter Link is required!</span>
                                </ng-container>

                                <ng-container *ngIf="getPartnerFormField('twitterLink').hasError('pattern')">
                                    <span>Twitter Link is Invalid!</span>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 form-group mb-0">
                            <label class="mb-1" for="instagramLink">Instagram Link</label>
                            <input class="form-control" id="instagramLink" formControlName="instagramLink"
                                placeholder="Enter Twitter Link">
                            <div class="error-message">
                                <ng-container
                                    *ngIf="getPartnerFormField('instagramLink').hasError('required') && getPartnerFormField('instagramLink').touched">
                                    <span>Twitter Link is required!</span>
                                </ng-container>

                                <ng-container *ngIf="getPartnerFormField('instagramLink').hasError('pattern')">
                                    <span>Instagram Link is Invalid!</span>
                                </ng-container>
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 form-group">
                            <input-dropdown label="Country" name="countryName" placeholder="Select Country"
                                [parentFormGroup]="partnerForm" [selectionList]="countryList">
                            </input-dropdown>

                        </div>
                        <div class="col-12 mt-3 text-right">
                            <app-button className="btn-warning btn-large" buttonText="Save"
                                (buttonClicked)="onSubmitPartner('partnerForm')"
                                [disabled]="partnerForm.invalid || partnerForm.pristine">
                            </app-button>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="apiInProgress.partnerForm" class="loader-wrapper">
                <mat-spinner diameter="60"></mat-spinner>
            </div>
        </div>
    </form>

    <div class="accordion" id="accordionExample1">
        <h3 class="title-color">Payout Details</h3>
        <div class="card">
            <div class="card-header" id="headingOne1">
                <h2 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
                        aria-expanded="true" aria-controls="collapseOne">
                        Payments Details
                    </button>
                </h2>
            </div>

            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample1">
                <div class="card-body">
                    <div class="container-fluid">
                        <div class="card-details p-0 p-md-4 active ">
                            <div class="row">
                                <div class="col-sm-12">
                                    <input type="button" class="btn btn-color btn-large" value="Payout Settings">
                                    <hr>
                                </div>
                                <div class="col-12 col-md-7">
                                    <div class="row no-gutters">
                                        <div class="col-sm-10 mb-3 mt-3">
                                            <h6 class="h6_color">PAYOUT BANK DETAILS</h6>
                                        </div>
                                        <div class="col-sm-2 icon">
                                            <a (click)="openSidePaymentDetails()">
                                                <mat-icon class="icon_color">create</mat-icon>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="row no-gutters">
                                        <div class="col-sm-12 pay_details">
                                            <div class="row no-gutters">
                                                <div class="col-sm-12 ">
                                                    <div class="row no-gutters m-4">
                                                        <h1 class="payout_text">PAYOUT</h1>
                                                    </div>
                                                    <div class="row no-gutters">
                                                        <div class="col-sm-6 ml-4 mb-2">
                                                            <p class="text_left">Bank Name</p>
                                                        </div>
                                                        <div class="col-sm-5 text-center text-md-right">
                                                            <p class="text_right">Paytm Payments Bank ltd.</p>
                                                        </div>
                                                    </div>
                                                    <div class="row no-gutters">
                                                        <div class="col-sm-6 ml-4 mb-2">
                                                            <p class="text_left">Bank Ifsc Code</p>
                                                        </div>
                                                        <div class="col-sm-5 text-center text-md-right">
                                                            <p class="text_right">PAYTM10G9778</p>
                                                        </div>
                                                    </div>
                                                    <div class="row no-gutters">
                                                        <div class="col-sm-6 ml-4 mb-4">
                                                            <p class="text_left">Bank Account Number</p>
                                                        </div>
                                                        <div class="col-sm-5 text-right">
                                                            <p class="text-center text-md-right">9988776655</p>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-7">
                                    <div class="row no-gutters">
                                        <div class="col-sm-10 mb-4 mt-5">
                                            <h6 class="h6_color">SETTLEMENT CYCLE</h6>
                                        </div>
                                    </div>
                                    <div class="row no-gutters">
                                        <div class="col-sm-12 pay_details">
                                            <div class="row no-gutters">
                                                <div class="col-sm-12 mt-4 mb-3">
                                                    <div class="row no-gutters">
                                                        <div class="col-sm-6 ml-4 mb-2">
                                                            <p class="text_left">Settlement Cycle</p>
                                                        </div>
                                                        <div class="col-sm-5 text-right">
                                                            <p class="text-center text-md-right">T+1 days</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>


            </div>
        </div>
        <div class='addAccount bg-white text-dark' id="addAccount">
            <div class="container">
                <button type="button" (click)="closeSidePaymentDetails()" class="close text-dark text-left mt-3"
                    id="close" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h1 class="text-center pt-5 color-b">Add New Bank Details</h1>
                <p class="text-center pt-2 color-y">Add your bank details here </p>

                <form action="#" class="mt-4">
                    <div class="form-group fg">
                        <input type="number" class="form-control input_text" id="account"
                            placeholder="Enter Bank Account Number" name="account">
                    </div>
                    <div class="form-group fg   ">
                        <input type="number" class="form-control input_text" id="reaccount"
                            placeholder="Re-Enter Bank Account Number" name="reaccount">
                    </div>

                    <div class="form-group fg   ">
                        <input type="text" class="form-control input_text" id="ifsc" placeholder="Enter Your Ifsc Code"
                            name="ifsc">
                    </div>
                    <button type="submit" class="btn btn-primary cr-btn" value="Select">Confirm</button>
                </form>
            </div>
        </div>

    </div>

    <div class="accordion mb-5" id="accordionExample">
        <div class="col-12 d-flex justify-content-between align-items-center">
            <h3 class="title-color">Clinic & Schedule Details</h3>

            <button class="btn btn-effect text-warning no-outline px-0" (click)="addClinic()">
                + ADD ANOTHER CLINIC
            </button>
        </div>
        <div class="card mb-2" *ngFor="let clinicData of clinic; let clinicIndex=index;">
            <div class="card-header row no-gutters" id="headingOne">
                <div class="col-11">
                    <h2 class="mb-0">
                        <button class="btn btn-link" type="button" data-toggle="collapse"
                            attr.data-target="#clinic_{{clinicData?.value?.id}}" aria-expanded="false"
                            attr.aria-controls="{{clinicData?.value?.id}}">
                            {{clinicData?.value?.name ? clinicData?.value?.name : "Add New"}}
                        </button>
                    </h2>
                </div>
                <div class="col-1 text-right">
                    <a data-toggle="collapse" attr.data-target="#clinic_{{clinicData?.value?.id}}" aria-expanded="false"
                        attr.aria-controls="{{clinicData?.value?.id}}">
                        <img src="../../../../../assets/icon/dropdown.svg" class="text-right" heigh="10px" width="20px">
                    </a>
                </div>
            </div>
            <div id="clinic_{{clinicData?.value?.id}}" class="collapse" aria-labelledby="headingOne"
                data-parent="#accordionExample">

                <div class="card-body">
                    <form class="no-outline" [formGroup]="clinicData" autocomplete="off">
                        <div class="container-fluid my-3 custom-padding bg-white border-radius-xl"
                            [class.loader]="apiInProgress.clinicData">
                            <div class="row py-3">
                                <div class="col-12">
                                    <div class="row mt-3">
                                        <div class="col-12 col-sm-6 form-group mb-0">
                                            <label class="mb-1" for="name1{{clinicIndex}}">Clinic Name</label>
                                            <input class="form-control" id="name1{{clinicIndex}}" formControlName="name"
                                                placeholder="Enter Clinic Name">
                                            <!-- <div class="error-message">
                                                <ng-container
                                                    *ngIf="getClinicFormField('name').errors && getClinicFormField('name').touched">
                                                    <span>Clinic name is required!</span>
                                                </ng-container>
                                            </div> -->
                                        </div>
                                        <div class="col-12 col-sm-6 form-group mb-0">
                                            <label class="mb-1" for="displayOrder{{clinicIndex}}">Display Order</label>
                                            <div class="input-group">
                                                <input class="form-control" id="displayOrder{{clinicIndex}}"
                                                    formControlName="displayOrder" placeholder="Enter Clinic Name">
                                            </div>
                                        </div>
                                        <div class="col-12 form-group">
                                            <label class="mb-2" for="address{{clinicIndex}}">Clinic Address</label>
                                            <textarea class="form-control custom-scrollbar textarea-min-height"
                                                type="text" id="address{{clinicIndex}}" formControlName="address"
                                                placeholder="Enter Clinic Address" rows="1" cdkTextareaAutosize
                                                #autosize="cdkTextareaAutosize"></textarea>
                                        </div>

                                        <div class="col-12 col-sm-6 form-group">
                                            <input-dropdown label="Country" name="countryName"
                                                placeholder="Select Country" [parentFormGroup]="clinicData"
                                                [selectionList]="countryList">
                                            </input-dropdown>
                                        </div>

                                        <div class="col-12 col-sm-6 form-group">
                                            <input-dropdown label="State" name="state" placeholder="Select State"
                                                [parentFormGroup]="clinicData" [selectionList]="stateList">
                                            </input-dropdown>
                                        </div>

                                        <div class="col-12 col-sm-6 form-group">
                                            <input-dropdown label="City" name="city" placeholder="Select City"
                                                [parentFormGroup]="clinicData" [selectionList]="cityList">
                                            </input-dropdown>
                                        </div>

                                        <div class="col-12 col-sm-6 form-group">
                                            <input-dropdown label="Pin Code" name="pinCode"
                                                placeholder="Select Pin Code" [parentFormGroup]="clinicData"
                                                [selectionList]="pinCodeList">
                                            </input-dropdown>
                                        </div>
                                        <div class="col-12 col-sm-6 form-group mb-0">
                                            <label class="mb-1" for="lattitude{{clinicIndex}}">Latitude</label>
                                            <input class="form-control" id="latitude{{clinicIndex}}"
                                                formControlName="latitude" placeholder="Latitude">
                                        </div>
                                        <div class="col-12 col-sm-6 form-group mb-0">
                                            <label class="mb-1" for="longitude{{clinicIndex}}">Longitude</label>
                                            <input class="form-control" id="longitude{{clinicIndex}}"
                                                formControlName="longitude" placeholder="Longitude">
                                        </div>
                                        <div class="col-12 d-flex justify-content-between align-items-center">
                                            <h6 class="title-color mb-0">Add Partner Details</h6>
                                            <button class="btn btn-effect text-warning no-outline px-0"
                                                (click)="addPartner(clinicIndex)"
                                                [disabled]="clinicData.get('partnerContactNumbers').invalid">+ ADD
                                                ANOTHER PARTNER</button>
                                        </div>
                                        <div class="col-12" formArrayName="partnerContactNumbers">
                                            <ng-container
                                                *ngFor="let partner of getpartnerContactsList(clinicIndex); let partnerIndex = index">
                                                <div class="row" [formGroupName]="partnerIndex"
                                                    [class.mt-3]="partnerIndex">
                                                    <div class="col-12 position-relative">
                                                        <div class="border rounded p-2">
                                                            <div class="row">
                                                                <div class="col-12 col-sm-4 form-group mb-0">
                                                                    <label class="mb-1"
                                                                        for="mobile{{clinicIndex}}">Mobile</label>
                                                                    <div class="input-group">
                                                                        <div class="input-group-prepend">
                                                                            <div class="form-control">
                                                                                <mat-select formControlName="country">
                                                                                    <mat-option
                                                                                        *ngFor="let item of countryList"
                                                                                        [value]="item.id">
                                                                                        +{{item.code}}</mat-option>
                                                                                </mat-select>
                                                                            </div>
                                                                        </div>
                                                                        <input class="form-control"
                                                                            id="mobile{{clinicIndex}}"
                                                                            formControlName="mobile"
                                                                            placeholder="Phone Number"
                                                                            (change)="validatePartnerNumber($event, partnerIndex)"
                                                                            [class.error]="partner.get('mobile').errors && partner.get('mobile').touched">
                                                                    </div>
                                                                    <div class="error-message">
                                                                        <ng-container
                                                                            *ngIf="partner.get('mobile').errors && partner.get('mobile').touched">
                                                                            <span
                                                                                *ngIf="partner.get('mobile').hasError('minlength')">
                                                                                Phone number is invalid!</span>
                                                                            <span
                                                                                *ngIf="partner.get('mobile').hasError('required')">
                                                                                Phone number is required!</span>
                                                                        </ng-container>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-sm-4 form-group mb-0">
                                                                    <label class="mb-1"
                                                                        for="firstName{{clinicIndex}}">First
                                                                        Name</label>
                                                                    <div class="input-group">
                                                                        <div class="input-group-prepend">
                                                                            <div class="form-control">
                                                                                <mat-select formControlName="title">
                                                                                    <mat-option
                                                                                        *ngFor="let item of titleList"
                                                                                        [value]="item.id">
                                                                                        {{item.title}}</mat-option>
                                                                                </mat-select>
                                                                            </div>
                                                                        </div>
                                                                        <input class="form-control"
                                                                            id="firstName{{clinicIndex}}"
                                                                            formControlName="firstName"
                                                                            placeholder="First Name"
                                                                            [class.error]="partner.get('firstName').errors && partner.get('firstName').touched">
                                                                    </div>
                                                                    <div class="error-message">
                                                                        <ng-container
                                                                            *ngIf="partner.get('firstName').errors && partner.get('firstName').touched">
                                                                            <span>Partner name is required!</span>
                                                                        </ng-container>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-sm-4 form-group mb-0">
                                                                    <label class="mb-1"
                                                                        for="lastname{{clinicIndex}}">Last
                                                                        Name</label>
                                                                    <input class="form-control"
                                                                        id="lastname{{clinicIndex}}"
                                                                        formControlName="lastName"
                                                                        placeholder="Last Name">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>

                                        <div class="col-12 d-flex justify-content-between align-items-center">
                                            <h6 class="title-color mb-0">Add Schedule</h6>
                                            <button class="btn btn-effect text-warning no-outline px-0"
                                                (click)="addSchedule(clinicIndex)"
                                                [disabled]="clinicData.get('businessTimings').invalid">+ ADD
                                                ANOTHER SCHEDULE</button>
                                        </div>
                                        <div class="col-12" formArrayName="businessTimings">
                                            <ng-container
                                                *ngFor="let item of getscheduleList(clinicIndex); let scheduleIndex = index">
                                                <div class="row" [formGroupName]="scheduleIndex"
                                                    [class.mt-3]="scheduleIndex">
                                                    <div class="col-12 position-relative">
                                                        <div class="border rounded p-2">
                                                            <div class="row">
                                                                <div class="col-12 col-md-6 form-group">
                                                                    <label class="mb-1"
                                                                        [for]="'name - ' + scheduleIndex">Schedule
                                                                        {{scheduleIndex + 1}}</label>
                                                                    <mat-chip-list>
                                                                        <mat-chip *ngFor="let day of weekDays"
                                                                            (click)="selectWeekDays(day.value, scheduleIndex)"
                                                                            [class.chip-active]="getScheduleDayControl(scheduleIndex)?.value?.includes(day.value)">
                                                                            {{day.name}}
                                                                        </mat-chip>
                                                                    </mat-chip-list>
                                                                </div>
                                                                <div class="col-12 col-md-6" formArrayName="timeRange">
                                                                    <ng-container
                                                                        *ngFor="let item of clinicData.get('businessTimings.' + scheduleIndex + '.timeRange')['controls']; let slotsIndex = index">
                                                                        <div class="row" [formGroupName]="slotsIndex"
                                                                            [class.mt-3]="slotsIndex">
                                                                            <div class="col-12 position-relative">
                                                                                <div class="border rounded p-2">
                                                                                    <div class="row">
                                                                                        <div
                                                                                            class="col-12 col-sm-6 form-group">
                                                                                            <label class="mb-1"
                                                                                                [for]="'fromHours - ' + scheduleIndex + ' - ' + slotsIndex + ' - ' + clinicIndex">From</label>
                                                                                            <div
                                                                                                class="position-relative">
                                                                                                <input
                                                                                                    class="form-control timer"
                                                                                                    id="'fromHours - ' + scheduleIndex + ' - ' + slotsIndex+ ' - ' + {{clinicIndex}}"
                                                                                                    [ngxTimepicker]="toggleTimepicker"
                                                                                                    readonly
                                                                                                    formControlName="fromHours"
                                                                                                    placeholder="Select Time">
                                                                                                <ngx-material-timepicker-toggle
                                                                                                    class="position-absolute time-picker"
                                                                                                    [for]="toggleTimepicker">
                                                                                                </ngx-material-timepicker-toggle>
                                                                                                <ngx-material-timepicker
                                                                                                    #toggleTimepicker>
                                                                                                </ngx-material-timepicker>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div
                                                                                            class="col-12 col-sm-6 form-group">
                                                                                            <label class="mb-1"
                                                                                                [for]="'toHours - ' + scheduleIndex + ' - ' + slotsIndex + ' - ' + clinicIndex">To</label>
                                                                                            <div
                                                                                                class="position-relative">
                                                                                                <input
                                                                                                    class="form-control timer"
                                                                                                    id="'toHours - ' + scheduleIndex + ' - ' + slotsIndex+ ' - ' + {{clinicIndex}}"
                                                                                                    [ngxTimepicker]="toggleToTimepicker"
                                                                                                    readonly
                                                                                                    formControlName="toHours"
                                                                                                    placeholder="Select Time">
                                                                                                <ngx-material-timepicker-toggle
                                                                                                    class="position-absolute time-picker"
                                                                                                    [for]="toggleToTimepicker">
                                                                                                </ngx-material-timepicker-toggle>
                                                                                                <ngx-material-timepicker
                                                                                                    #toggleToTimepicker>
                                                                                                </ngx-material-timepicker>
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                    <mat-icon class="remove-slot small"
                                                                                        *ngIf="slotsIndex"
                                                                                        (click)="removeSlots(scheduleIndex, slotsIndex)">
                                                                                        close</mat-icon>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <div class="col-12">
                                                                        <div class="text-right">
                                                                            <button
                                                                                class="btn btn-effect text-warning no-outline px-0"
                                                                                (click)="addSlots(scheduleIndex)"
                                                                                [disabled]="clinicData.get('businessTimings.' + scheduleIndex + '.timeRange').invalid">+
                                                                                ADD ANOTHER SLOT</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <mat-icon class="remove-schedule small" *ngIf="scheduleIndex"
                                                            (click)="removeSchedule(scheduleIndex)">close</mat-icon>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                        <div class="col-12 mt-3 text-right">
                                            <app-button className="btn-warning btn-large" buttonText="Save"
                                                (buttonClicked)="onSubmit(clinicData, clinicIndex)">
                                            </app-button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="apiInProgress.clinicData" class="loader-wrapper">
                                <mat-spinner diameter="60"></mat-spinner>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</ng-container>

<ng-template #loading>
    <div class="bg-white h-100 d-flex align-items-center justify-content-center border-radius-xl">
        <mat-spinner diameter="60"></mat-spinner>
    </div>
</ng-template>