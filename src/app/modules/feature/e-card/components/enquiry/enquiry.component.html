<form *ngIf="enquiryForm" [formGroup]="enquiryForm" class="container-fluid pb-5" autocomplete="off"
      (ngSubmit)="onSubmit()">
  <div class="form-group px-3">
    <label class="mb-2" for="name">Name</label>
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="form-control">
          <mat-select formControlName="titleId">
            <mat-option *ngFor="let item of titles" [value]="item.id">{{item.title}}</mat-option>
          </mat-select>
        </div>
      </div>
      <input [ngClass]="{error: getEnquiryFormField('name').errors && getEnquiryFormField('name').touched}"
             class="form-control" formControlName="name" id="name" placeholder="Enter your Name"
             type="text">
    </div>
    <div class="error-message">
      <ng-container *ngIf="getEnquiryFormField('name').errors && getEnquiryFormField('name').touched">
        <span>Name is required!</span>
      </ng-container>
    </div>
  </div>
  <div class="form-group px-3">
    <label class="mb-2" for="email">Email</label>
    <input [ngClass]="{error: getEnquiryFormField('email').errors && getEnquiryFormField('email').touched}"
           [placeholder]="'home.footer.form.placeholder' | translate" class="form-control" formControlName="email"
           id="email"
           type="email">
    <div class="error-message">
      <ng-container *ngIf="getEnquiryFormField('email').errors && getEnquiryFormField('email').touched">
        <span *ngIf="getEnquiryFormField('email').hasError('required')">Email is required!</span>
        <span *ngIf="getEnquiryFormField('email').hasError('pattern')">Email is invalid!</span>
      </ng-container>
    </div>
  </div>
  <div class="form-group px-3">
    <label class="mb-2" for="phone">Phone</label>
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="form-control">
          <mat-select formControlName="countryId">
            <mat-option *ngFor="let country of countries" [value]="country.id"> +{{country.code}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <input [ngClass]="{error: getEnquiryFormField('phone').errors && getEnquiryFormField('phone').touched}"
             class="form-control" formControlName="phone" id="phone" placeholder="Enter your Phone"
             type="tel">
    </div>
    <div class="error-message">
      <ng-container *ngIf="getEnquiryFormField('phone').errors && getEnquiryFormField('phone').touched">
        <span>Phone number invalid!</span>
      </ng-container>
    </div>
  </div>
  <div class="form-group px-3 mb-4">
    <label class="mb-2" for="message">Message</label>
    <textarea [ngClass]="{error: getEnquiryFormField('message').errors && getEnquiryFormField('message').touched}"
              class="form-control" formControlName="message" id="message" placeholder="Enter Message"
              rows="3"
              type="text"></textarea>
    <div class="error-message">
      <ng-container *ngIf="getEnquiryFormField('message').errors && getEnquiryFormField('message').touched">
        <span>Message is required!</span>
      </ng-container>
    </div>
  </div>

  <div class="form-group pl-3 link-primary">
    <button [disabled]="enquiryLoader" class="btn btn-warning" style="font-weight: 500; font-size: 17px;">
      {{enquiryLoader ? 'Sending' : 'Submit'}}
      <span *ngIf="enquiryLoader" aria-hidden="true" class="spinner-border spinner-border-sm"
            role="status"></span>
    </button>
  </div>
</form>
